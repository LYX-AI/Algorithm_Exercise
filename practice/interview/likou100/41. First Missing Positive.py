'''
 è§£é¢˜æ€è·¯ï¼ˆæ ¸å¿ƒæŠ€å·§ï¼šåŽŸåœ°å“ˆå¸Œæ³•ï¼‰
è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯â€”â€”æˆ‘ä»¬ä¸èƒ½ç”¨é¢å¤–ç©ºé—´ï¼Œè¿˜è¦ O(n)ï¼Œè¿™å°±å¯å‘æˆ‘ä»¬ï¼šèƒ½ä¸èƒ½æŠŠå…ƒç´ æ”¾åˆ°å®ƒâ€œè¯¥åœ¨â€çš„ä½ç½®ä¸Šï¼Ÿ

æ ¸å¿ƒæ€æƒ³ï¼š
å¯¹äºŽä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œç­”æ¡ˆä¸€å®šåœ¨ [1, n+1] ä¹‹é—´ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š
å¦‚æžœä½ æœ‰ nums = [3, 4, -1, 1]ï¼Œé‚£ä¹ˆå®ƒçš„é•¿åº¦æ˜¯ 4ï¼Œæœ€å°ç¼ºå¤±æ­£æ•°åªèƒ½åœ¨ [1, 5] ä¹‹é—´ã€‚

ðŸ§  è§£æ³•æ­¥éª¤ï¼š
1ï¸âƒ£ï¼šåŽŸåœ°æ”¾ç½®ï¼šæŠŠ nums[i] æ”¾åˆ°ç´¢å¼•ä¸º nums[i] - 1 çš„ä½ç½®ï¼ˆå³ 1 æ”¾ç¬¬0ä½ï¼Œ2æ”¾ç¬¬1ä½â€¦â€¦ï¼‰
ä¾‹å¦‚ï¼š

cpp
Copy
Edit
nums = [3, 4, -1, 1]
æ­¥éª¤ä¸€ï¼š
nums[0] = 3ï¼Œåº”è¯¥æ”¾åœ¨ä¸‹æ ‡ 2 => swap(nums[0], nums[2]) => [-1, 4, 3, 1]
nums[0] = -1ï¼Œä¸æ˜¯æ­£æ•°ï¼Œä¸ç®¡
nums[1] = 4ï¼Œåº”è¯¥æ”¾åœ¨ä¸‹æ ‡ 3 => swap(nums[1], nums[3]) => [-1, 1, 3, 4]
nums[1] = 1ï¼Œåº”è¯¥æ”¾åœ¨ä¸‹æ ‡ 0 => swap(nums[1], nums[0]) => [1, -1, 3, 4]

æœ€ç»ˆç»“æžœï¼šnums = [1, -1, 3, 4]
2ï¸âƒ£ï¼šä»Žå¤´å¼€å§‹éåŽ†ï¼Œæ‰¾ç¬¬ä¸€ä¸ª nums[i] != i + 1 çš„ä½ç½®ï¼Œi + 1 å°±æ˜¯ç­”æ¡ˆã€‚
è¿™é‡Œç»“æžœæ˜¯ï¼šnums[1] != 2ï¼Œè¯´æ˜Ž 2 ç¼ºå¤±ï¼Œæ‰€ä»¥è¿”å›ž 2
'''
class Solution:
    def firstMissingPositive(self, nums: list[int]) -> int:
        n = len(nums)
        for i in range(n):
            while 1<=nums[i]<=n and nums[nums[i]-1] != nums[i]:
                index = nums[i]-1
                nums[i],nums[index] = nums[index],nums[i]
        for j in range(n):
            if nums[j] != j+1:
                return j+1
            else:
                continue
        return n+1
if __name__=="__main__":
    solution = Solution()
    nums = [3, 4, -1, 1]
    print(solution.firstMissingPositive(nums))

